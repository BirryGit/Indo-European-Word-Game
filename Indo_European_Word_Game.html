<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Indo European Word Game</title>
    <style>
        /* Global styles */
        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1a1a2e; /* Dark navy background for a softer contrast */
            color: #dcdcdc; /* Light gray text for better readability */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh; /* Full viewport height */
            overflow: hidden;
        }

        /* Introduction container */
        #intro, #final {
            text-align: center;
            font-size: 20px; /* Slightly larger font for readability */
            line-height: 1.8; /* Increased line spacing for better focus */
            max-width: 700px;
            margin-bottom: 30px;
            padding: 25px;
            background-color: #252537; /* Soft dark gray background for contrast */
            color: #ffffff; /* Pure white text for clarity */
            border-radius: 12px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.6);
            border: 1px solid #3a3a55; /* Subtle border for polish */
        }

        /* General styles for the button */
        .button {
            align-items: center;
            justify-content: center;
            display: flex; /* Flex for centering text */
            width: 220px;
            height: 55px;
            background-color: #0f4c75; /* Deep blue button color */
            color: #ffffff;
            font-family: 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-size: 18px; /* Larger font size for prominence */
            font-weight: bold;
            text-transform: uppercase;
            text-decoration: none;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.7);
        }

        /* Hover effect for the button */
        .button:hover {
            background-color: #145a88; /* Brighter blue on hover */
            box-shadow: 0 6px 14px rgba(25, 52, 71, 0.6); /* Softer shadow on hover */
            transform: translateY(-1px);
        }

        /* Active effect for the button */
        .button:active {
            transform: translateY(0);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.7); /* Return to original shadow */
        }

        /* Align content in the center of the screen */
        #opening, #end_screen{
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        /* Subtle fade-in animation for content */
        #opening {
            animation: fadeIn .75s ease-in-out;
        }

        /* Fade-in animation keyframes */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

/* Game container */
        #game {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100vh;
            padding: 20px;
            background-color: #252537;
            border-radius: 12px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.6);
            display: none; /* Hidden initially */
            position: relative;
        }

        /* Score container */
        #points {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 24px;
            color: #ffffff;
            font-weight: bold;
        }

        /* Hints container */
        #hints {
            margin-bottom: 20px;
            text-align: center;
            color: #fff;
        }

        #hint1, #hint2, #hint3, #hint4{
            font-size: 23px;
            line-height: 1.6;
        }

        /* Input section */
        #input_div {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* Input field */
        #input {
            padding: 10px;
            font-size: 16px;
            margin-bottom: 10px;
            width: 250px;
            border-radius: 10px;
            border: 1px solid #3a3a55;
            background-color: #252537;
            color: #fff;
        }
        #points {
            padding: 10px;
            height: 50px;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;

        }

    </style>  
    <style>
        /* Fade-in animation */
        .fade-in {
            animation: fadeIn 1s forwards;
        }
    
        /* Fade-out animation */
        .fade-out {
            animation: fadeOut 1s forwards;
        }
    
        /* Keyframes for fade-in */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
    
        /* Keyframes for fade-out */
        @keyframes fadeOut {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
            }
        }
    </style>  
</head>
<body>
    <main>
        <div id="opening">
            <p id="intro">
                This game will test your intuition of the etemology of English words. 
                There is a total of 14 different word evolutions. 
                I did my best to make them accurate, but it turns out 
                much of the etemology of these words are very hard to track. 
                Most of the words follow the path of Proto-Indo-European - 
                Proto-Germanic - Old English - Modern English.
                But, a few follow different paths to add a variety.    
            </p>
            <a id="startButton" class="button" href="#">Click to Start</a>
            <p id="intro">
                Try to guess what the modern english word is with the least amount of translations. Most are Nouns. The lower the score the better.
            </p>
        </div>
    
        <div id="game">
            <div id="score">
                <br>
                <p id="points"></p>
            </div>
            <div id="hints">
                <p id="hint1"></p>
                <p id="hint2"></p>
                <p id="hint3"></p>
                <p id="hint4"></p>
            </div>
            <div id="input_div">
                <input type="text" id="input" autocomplete="off">
                <br>
                <a id="guess" class="button" href="#">Guess</a>
            </div>
            
        </div>
        <div id="end_screen">
            <p id="final"></p>
        </div>
        <!-- add HTML here-->
    </main>
    <script> //switch screen/ animation
        game.style.display = 'none';
        end_screen.style.display = 'none';

        const startButton = document.getElementById('startButton');
    
        // Add a click event listener
        startButton.addEventListener('click', function () {
            console.log('Game Started.');
            opening.classList.add('fade-out');
            
            opening.style.display = 'none'; // Hide opening screen
            game.style.display = 'flex';   // Show game screen

            // Apply fade-in to the game screen
            game.classList.add('fade-in');

            main_game();
        });
    </script>
    
    <script>
        function main_game(){
            console.log("Game Started")
            let points = 0;

            let hint_num = 0

            let correct = false;

            let question = 0

            const guess_button = document.getElementById("guess")
            const points_out = document.getElementById("points")
            points_out.textContent = `Start Guessing!`

            const hint1 = document.getElementById("hint1")
            const hint2 = document.getElementById("hint2")
            const hint3 = document.getElementById("hint3")
            const hint4 = document.getElementById("hint4")

            const input = document.getElementById("input")


            const answers = [
                { proto: "m√©h‚ÇÇtƒìr", meaning: "mother", protoLanguage: "m≈çdƒìr", oldLanguage: "modor", modernEnglish: "mother" },
                { proto: "b ∞r√©h‚ÇÇtƒìr", meaning: "brother", protoLanguage: "br≈ç√æƒìr", oldLanguage: "bro√æor", modernEnglish: "brother" },
                { proto: "sw√©s≈çr", meaning: "sister", protoLanguage: "swestƒìr", oldLanguage: "sweostor", modernEnglish: "sister" },
                { proto: "g√≥nu", meaning: "knee", protoLanguage: "knewƒÖ", oldLanguage: "cnƒìow", modernEnglish: "knee" },
                { proto: "·∏±rÃ•d", meaning: "heart", protoLanguage: "hert√¥", oldLanguage: "heorte", modernEnglish: "heart" },
                { proto: "h‚ÇÇ√≥ws", meaning: "ear", protoLanguage: "aus√¥", oldLanguage: "eare", modernEnglish: "ear" },
                { proto: "p√©h‚ÇÇwrÃ•", meaning: "fire", protoLanguage: "f≈çr", oldLanguage: "f»≥r", modernEnglish: "fire" },
                { proto: "dy·∏óws", meaning: "sky", protoLanguage: "íÄ≠íÖÜíÑøíåëíÑøíâå", oldLanguage: "íÖÜíçë", modernEnglish: "God" },
                { proto: "sneyg ∑ ∞-", meaning: "snow", protoLanguage: "snƒ´wanƒÖ", oldLanguage: "snƒ´wan", modernEnglish: "snow" },
                { proto: "h‚ÇÅer-", meaning: "earth", protoLanguage: "er√æ≈ç", oldLanguage: "eor√æe", modernEnglish: "earth" },
                { proto: "n√©wos", meaning: "new", protoLanguage: "neudaz", oldLanguage: "*n√©wos", modernEnglish: "new" },
                { proto: "g ∑·πìws", meaning: "cow", protoLanguage: "k≈çz", oldLanguage: "c≈´", modernEnglish: "cow" },
                { proto: "·∏±w·πì", meaning: "dog", protoLanguage: "hundaz", oldLanguage: "hund", modernEnglish: "dog" },
                { proto: "dy·∏óws ph‚ÇÇt·∏ór", meaning: "Zeus", protoLanguage: "Dz√©us", oldLanguage: "ŒñŒµœçœÇ", modernEnglish: "Zeus" }
            ];
            shuffle(answers);
            function shuffle(array){
                let temp;
                let randomIndex;
                for(let index = array.length - 1; index > 0; index --){
                    randomIndex = Math.floor(Math.random() * (index+1));
                    temp = array[index];
                    array[index] = array[randomIndex]
                    array[randomIndex] = temp;
                }
            }

            next()

            function check_answer(){
                console.log(question)
                console.log(answers.length)

                if(question == answers.length){
                    showEndScreen(points);
                }
                points_out.textContent = `Points: ${points}`
                if(input.value.trim().toLowerCase() != ""){
                    if(input.value.trim().toLowerCase() == answers[question].modernEnglish.trim().toLowerCase()){
                        console.log("Correct")
                        points_out.textContent = `${input.value.trim()} was correct!`
                        question ++
                        hint_num =0
                        hint1.textContent = ""
                        hint2.textContent = ""
                        hint3.textContent = ""
                        hint4.textContent = ""
                        next()
                    }else{
                        points ++;
                        points_out.textContent = `Points: ${points}`
                        console.log("Incorrect")
                        if(hint_num <4){
                            next()
                            return
                        }
                    }
                }else{
                    alert("Please enter a word.")
                    console.log("input box empty")
                    return
                }
            }



            function next(){
                input.value = ""

                if(hint_num == 0){
                    hint1.textContent = ""
                    hint2.textContent = ""
                    hint3.textContent = ""
                    hint4.textContent = ""
                    hint1.textContent = `Proto: ${answers[question].proto}`;
                    hint_num++
                }else if(hint_num == 1){
                    hint2.textContent = `Proto Language: ${answers[question].protoLanguage}`;
                    hint_num++
                }else if(hint_num == 2){
                    hint3.textContent = `Old English: ${answers[question].oldLanguage}`;
                    hint_num++
                }else if(hint_num == 3){
                    hint4.textContent = `Modern English: ${answers[question].modernEnglish}`;
                    hint_num = 0
                    question ++;
                }else if(true){}
            }
            

            guess_button.addEventListener('click', check_answer);

        }

        function showEndScreen(final) {
            // Fade out the game screen
            game.classList.add('fade-out');

            // Wait for the fade-out animation to complete
        
            game.style.display = 'none'; // Hide the game screen

            // Show and fade in the end screen
            end_screen.style.display = 'flex';
            end_screen.classList.add('fade-in');
            document.getElementById('final').textContent = `You got a final score of ${final}. Thanks for playing!`; // Set the final message
            
        }


    </script>
</body>
</html>